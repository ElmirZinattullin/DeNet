# Тестовое задание от компании DeNet
Создать простое клиент-серверное приложение для хранилища данных, в котором пользователи смогут загружать данные на сервер

## Как это работает:
Для аутентификации пользователя необходимо отправлять ключ пользователя в заголовоке "api-key".
Каждый файл пользователя загружается в новое хранилище. Хранилище разбиты на ячейки. В ячейках хранится только кусок файла.
Для скачивания файла нужно скачать каждую ячейку и далее объединить в один файл. Для загрузки файла на сервер надо запросить у сервера хранилище с нужным количеством ячеек. В случае успеха сервер отправляет идентификатор сессии. Нужно разбить файл на нужное количество ячеек и загружать каждую ячейку отдельно. 
Идентификатор сессии нужно пеердавать в заголовок "session" при загрузке каждой ячейки. 

## Серверная часть

### Установка:
#### 1. Скопируйте папку backend
Серверная часть приложения находится в папке **backend**. 
#### 2. Настройка переменных окружения
1. Скопируйте файл .temp.env в .env;
2. Заполните .env файл своими данными;

#### 3. Запуск сервера
1. Установите приложения **-docker, -docker-compose**;
2. Перейдите в директорию backend и выполните команды:
```shell
cd your_path/backend
docker compose build
docker compose up
```

#### 4. Создание первого пользователя.
Для создания первого пользователя
```shell
curl -X POST -H "Content-Type: application/json" -d '{"name": "TEST", "api_key": "TEST"}' http://localhost/register
```
#### 5. Swagger API.
http://localhost:8000/docs

## Клиентская часть

### Установка:
#### 1. Скопируйте папку **CLI**
Клиентская часть находится в папке **CLI**. 
#### 2. Настройте переменные окружения
1. Скопируйте файл .temp.env в .env;
2. Заполните .env файл своими данными, укажите адрес сервера и api-key пользователя;
#### 3. Убедитесь, установлены ли необходимые зависимости
```shell
pip install -r CLI/requirements.txt
```

#### 4. Запуск программы
Запускайте из командной строки 
```shell
python storage.py --help
```